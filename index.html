<!DOCTYPE html>
<html>
  <head>
  <title>Setup | Guides Vnda</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="css/bootstrap.css" />
  <link rel="stylesheet" media="all" href="css/screen.css" />
  <link rel="stylesheet" type="text/css" href="css/component.css" />
  <link href="favicon.ico" rel="shortcut icon" type="image/x-icon"/>
  <script src="js/jquery-1.8.3.min.js"></script>
  <script src="js/modernizr.custom.js"></script>
  <script src="js/main.js"></script>
   </head>
  <body>
  <div class="tocify-wrapper"><br>
    <img class="logo" src="https://avatars2.githubusercontent.com/u/810902?s=200">
    <div id="sidebar_switch">
      <span class="headings titulo"><a href="/">GUIDES VNDA</a></span>
      <section id="set-6">
        <div class="hi-icon-wrap hi-icon-effect-6 hi-icon-effect-6a">
          <a href="/design" class="hi-icon hi-icon-images um">Criação</a>
          <a href="/setup" class="hi-icon hi-icon-contract dois select">Setup</a>
          <a href="/api" class="hi-icon hi-icon-cog tres">Api</a>
        </div>
       </section>
     </div>
    <div id="headings" class="tocify">
    </div>
  </div>
  <div class="page-wrapper">
    <div class="content">
      <h2 id="entendendo-o-.liquid">Entendendo o .liquid</h2>
      <p>Liquid é a linguagem de programação responsável por implementar os templates desenvolvidos e utilizados pela Vnda.</p>

      <h3 id="filtros">Filtros</h3>
      <p>filtros para alterar a saída de uma váriavel:</p>

      <pre>
subtraction e.g. {{ 4 | minus:2 }} #=> 2
      </pre>
      <p>
      minus
      </p>
      <div></div><br>

      <pre>
addition e.g. {{ '1' | plus:'1' }} #=> '11', {{ 1 | plus:1 }} #=> 2
      </pre>
      <p>
      plus
      </p>
      <div></div><br>

      <pre>
multiplication e.g {{ 5 | times:4 }} #=> 20
      </pre>
      <p>
      times
      </p>
      <div></div><br>

      <pre>
division e.g. {{ 10 | divided_by:2 }} #=> 5
      </pre>
      <p>
      divided_by
      </p>
      <div></div><br>
      <pre>
get the first element of the passed in array
      </pre>
      <p>
      first
      </p>
      <div></div><br>

      <pre>
get the last element of the passed in array
      </pre>
      <p>
      last
      </p>
      <div></div><br>

      <pre>
join elements of the array with certain character between them
      </pre>
      <p>
      join
      </p>
      <div></div><br>

      <pre>
sort elements of the array
      </pre>
      <p>
      sort
      </p>
      <div></div><br>

      <pre>
map/collect an array on a given property
      </pre>
      <p>
      map
      </p>
      <div></div><br>

      <pre>
return the size of an array or string
      </pre>
      <p>
      size
      </p>
      <div></div><br>

      <pre>
escape a string
      </pre>
      <p>
      escape
      </p>
      <div></div><br>

      <pre>
returns an escaped version of html without affecting existing escaped entities
      </pre>
      <p>
      escape_once
      </p>
      <div></div><br>

      <pre>
strip html from string
      </pre>
      <p>
      strip_html
      </p>
      <div></div><br>

      <pre>
strip all newlines (\n) from string
      </pre>
      <p>
      strip_newlines
      </p>
      <div></div><br>

      <pre>
replace each newline (\n) with html break
      </pre>
      <p>
      newline_to_br
      </p>
      <div></div><br>

      <pre>
replace each occurrence e.g. {{ 'foofoo' | replace:'foo','bar' }} #=> 'barbar'
      </pre>
      <p>
      replace
      </p>
      <div></div><br>

      <pre>
replace the first occurrence e.g. {{ 'barbar' | replace_first:'bar','foo' }} #=> 'foobar'
      </pre>
      <p>
      replace_first
      </p>
      <div></div><br>

      <pre>
remove each occurrence e.g. {{ 'foobarfoobar' | remove:'foo' }} #=> 'barbar'
      </pre>
      <p>
      remove
      </p>
      <div></div><br>

      <pre>
remove the first occurrence e.g. {{ 'barbar' | remove_first:'bar' }} #=> 'bar'
      </pre>
      <p>
      remove_first
      </p>
      <div></div><br>

      <pre>
truncate a string down to x characters. It also accepts a second parameter that will append to the string e.g. {{ 'foobarfoobar' | truncate: 5, '.' }} #=> 'foob.'
      </pre>
      <p>
      truncate
      </p>
      <div></div><br>

      <pre>
truncate a string down to x words
      </pre>
      <p>
      truncatewords
      </p>
      <div></div><br>

      <pre>
prepend a string e.g. {{ 'bar' | prepend:'foo' }} #=> 'foobar'
      </pre>
      <p>
      prepend
      </p>
      <div></div><br>

      <pre>
append a string e.g. {{ 'foo' | append:'bar' }} #=> 'foobar'
      </pre>
      <p>
      append
      </p>
      <div></div><br>

      <pre>
split a string on a matching pattern e.g. {{ "a~b" | split:"~" }} #=> ['a','b']
      </pre>
      <p>
      split
      </p>
      <div></div><br>


      <pre>
remainder, e.g. {{ 3 | modulo:2 }} #=> 1

      </pre>
      <p>
      modulo
      </p>

      <pre>
reformat a date (syntax reference)
      </pre>
      <p>date</p>
      <div></div><br>


      <pre>capitalize words in the input sentence</pre>
      <p>capitalize</p>

      <div></div><br>
<!--  capitalize - capitalize words in the input sentence
 -->
      <pre>
convert an input string to lowercase
      </pre>
      <p>downcase</p>
      <div></div><br>

      <pre>
convert an input string to uppercase
      </pre>
      <p>
      upcase
      </p>
      <div></div><br>


      <h3 id="Tags_nativas">Tags Nativas</h3>
      <p>
        Tags are used for the logic in your template. New tags are very easy to code, so I hope to get many contributions to the standard tag library after releasing this code.
        Here is a list of currently supported tags:</p>
      </p>

      <pre>
// Assigns some value to a variable

You can store data in your own variables, to be used in output or other tags as desired. The simplest way to create a variable is with the assign tag, which has a pretty straightforward syntax:

{% assign name = 'freestyle' %}

{% for t in collections.tags %}{% if t == name %}
  <p>Freestyle!</p>
{% endif %}{% endfor %}

Another way of doing this would be to assign true / false values to the variable:

{% assign freestyle = false %}

{% for t in collections.tags %}{% if t == 'freestyle' %}
  {% assign freestyle = true %}
{% endif %}{% endfor %}

{% if freestyle %}
  <span><</span>p>Freestyle!<span><</span>/p>
{% endif %}
      </pre>
      <p>
      assign
      </p>
      <div></div><br>

      <pre>
// Block tag that captures text into a variable

If you want to combine a number of strings into a single string and save it to a variable, you can do that with the capture tag. This tag is a block which "captures" whatever is rendered inside it, then assigns the captured value to the given variable instead of rendering it to the screen.

{% capture attribute_name %}{{ item.title | handleize }}-{{ i }}-color{% endcapture %}

<span><</span>label for="{{ attribute_name }}">Color:<span><</span>/label>
<span><</span>select name="attributes[{{ attribute_name }}]" id="{{ attribute_name }}">
  <span><</span>option value="red">Red<span><</span>/option>
  <span><</span>option value="green">Green<span><</span>/option>
  <span><</span>option value="blue">Blue<span><</span>/option>
<span><</span>/select>
      </pre>
      <p>
      capture
      </p>
      <div></div><br>

      <pre>
// Block tag, its the standard case...when block

{% case condition %}
{% when 1 %}
hit 1
{% when 2 or 3 %}
hit 2 or 3
{% else %}
... else ...
{% endcase %}

{% case template %}

{% when 'label' %}
     // {{ label.title }}
{% when 'product' %}
     // {{ product.vendor | link_to_vendor }} / {{ product.title }}
{% else %}
     // {{page_title}}
{% endcase %}
      </pre>
      <p>
      case
      </p>
      <div></div><br>

      <pre>
Block tag, comments out the text in the block

We made 1 million dollars {% comment %} in losses {% endcomment %} this year
      </pre>
      <p>
      comment
      </p>
      <div></div><br>

      <pre>
// Cycle is usually used within a loop to alternate between values, like colors or DOM classes.

{% cycle 'one', 'two', 'three' %}
{% cycle 'one', 'two', 'three' %}
{% cycle 'one', 'two', 'three' %}
{% cycle 'one', 'two', 'three' %}

resultado
one
two
three
one
      </pre>
      <p>
      cycle
      </p>
      <div></div><br>

      <pre>
// Liquid allows for loops over collections:

{% for item in array %}
  {{ item }}
{% endfor %}

// When iterating a hash, item[0] contains the key, and item[1] contains the value:

{% for item in hash %}
  {{ item[0] }}: {{ item[1] }}
{% endfor %}

// During every for loop, the following helper variables are available for extra styling needs:

forloop.length      # => length of the entire for loop
forloop.index       # => index of the current iteration
forloop.index0      # => index of the current iteration (zero based)
forloop.rindex      # => how many items are still left?
forloop.rindex0     # => how many items are still left? (zero based)
forloop.first       # => is this the first iteration?
forloop.last        # => is this the last iteration?

There are several attributes you can use to influence which items you receive in your loop

limit:int lets you restrict how many items you get. offset:int lets you start the collection with the nth item.

# array = [1,2,3,4,5,6]
{% for item in array limit:2 offset:2 %}
  {{ item }}
{% endfor %}
# results in 3,4

Reversing the loop
{% for item in collection reversed %} {{item}} {% endfor %}

Instead of looping over an existing collection, you can define a range of numbers to loop through. The range can be defined by both literal and variable numbers:

# if item.quantity is 4...
{% for i in (1..item.quantity) %}
  {{ i }}
{% endfor %}
# results in 1,2,3,4
      </pre>
      <p>
      for
      </p>
      <div></div><br>

      <pre>
// Standard if/else block

{% if user %}
  Hello {{ user.name }}
{% endif %}
# Same as above
{% if user != null %}
  Hello {{ user.name }}
{% endif %}
{% if user.name == 'tobi' %}
  Hello tobi
{% elsif user.name == 'bob' %}
  Hello bob
{% endif %}
{% if user.name == 'tobi' or user.name == 'bob' %}
  Hello tobi or bob
{% endif %}
{% if user.name == 'bob' and user.age > 45 %}
  Hello old bob
{% endif %}
{% if user.name != 'tobi' %}
  Hello non-tobi
{% endif %}
# Same as above
{% unless user.name == 'tobi' %}
  Hello non-tobi
{% endunless %}
# Check for the size of an array
{% if user.payments == empty %}
   you never paid !
{% endif %}

{% if user.payments.size > 0  %}
   you paid !
{% endif %}
{% if user.age > 18 %}
   Login here
{% else %}
   Sorry, you are too young
{% endif %}
# array = 1,2,3
{% if array contains 2 %}
   array includes 2
{% endif %}
# string = 'hello world'
{% if string contains 'hello' %}
   string includes 'hello'
{% endif %}<br>
      </pre>
      <p>
      if
      </p>
      <div></div><br>

      <pre>
      Includes another template; useful for partials
      </pre>
      <p>
      include
      </p>
      <div></div><br>

      <div></div><br>

      <pre>
Mirror of if statement
      </pre>
      <p>
      unless
      </p>
      <div></div><br>

      <h3 id="tipos-de-marcacao">Tipos de Marcação</h3>
      <pre>
{% assign order = "false" %}
{% orders client_id:client.id %}
 {% assign order = "true" %}
 <span><</span>tr>
  <span><</span>td<span>></span>{{ order.code }}<span><</span>/td<span>></span>
  <span><</span>td<span>></span>{{ order.received_at }}<span><</span>/td<span>></span>
  <span><</span>td<span>></span>{{ order | order_status }}<span><</span>/td<span>></span>
  <span><</span>td<span>></span>{{ order.total | money_format }}<span><</span>/td<span>></span>
 <span><</span>/tr<span>></span>
{% endorders %}
{% if order == "false" %}
 <span><</span>tr<span>></span>
  <span><</span>td colspan="3"<span>></span>Você ainda não tem pedidos<span><</span>/td<span>></span>
 <span><</span>/tr<span>></span>
{% endif %}
      </pre>

      <p><strong>Existem dois tipos de marcação no líquido:</strong></p>
      <p><i>Tags de Lógica:</i> são declarações condicionais. Eles são a afirmação de que diz o código e o que fazer.</p>
      <p><i>Tags de saída:</i> são as etiquetas de saída exibir o líquido encontrado entre ele.
        Você também pode usar <b>filtros para alterar a saída retornado.</b></p>
      <p>Para usar o líquido, você vai precisar de recorrer a uma combinação de lógica e de saída de etiquetas usando operadores líquidos. Acções com liquidez muitos dos mesmos operadores como outras linguagens de programação:</p>
      <!-- // -->

      <h2 id="templates">Templates</h2>
      <p>Os templates ficam na raiz da pasta compartilhada no Dropbox onde todos os arquivo são salvos na extensão .liquid</p>
      <p>Dentro da raiz ficam os diretórios "images" "stylesheets" "javascript" e "page"</p>
      <p>Dentro do diretórios page/ é gerado os arquivos de extensão .html das página que são criados no admin.</p>
      <p>Segue abaixo os templates disponíveis na plataforma:</p>
      <!-- // -->

      <h3 id="layout.liquid">Layout.liquid</h3>
      <p>Neste template ficam devem ficar o html do topo e do rodapé e a tag<br> <strong>{{ yield }}</strong> responsável por incluir o conteúdo dos demais template.</p>
      <!-- // -->

      <h3 id="home.liquid">Home.liquid</h3>
      <p>Este é o template corresponde a página inicial da loja. Aqui podem ser exibidos produtos, banners, menus e qualquer informação que atraia o cliente a navegar no resto do site. -- A variável {{ tag }} conterá a tag de nome "capa", quando esta estiver cadastrada no Painel Administrativo.</p>

      <!-- // -->

      <h3 id="tag.liquid">Tag.liquid</h3>
      <p>Página que exibe produtos relacionados a uma tag. Tag é a forma de categorização utilizada pela Vnda para organizar os produtos. </p>
      <pre>
{% assign banner_tag_name = "categoria-" | append: tag.name %}
{% banners position:banner_tag_name %}
  ....
{% endbanners %}
      </pre>
      <p>
        Nesse template é muito comun usar banners de posição de tag.<br>
        basta criar uma variável com o nome da tag e chamar esta posição de banner.<br>
      </p>
      <h4 id="listar-produtos">Listar produtos</h4>
      <pre>
{% products tag:tag.name parent_tag:parent_tag.name page:params.page %}
  ...
{% endproducts %}
      </pre>
      <p>Listagem de produtos com a tag <a href="#products" class="laranja">{% products %}</a><br/><br/><br/><br/></p>
      <!-- // -->

      <h4 id="criar-páginação">Criar páginação</h4>
      <pre>
{% if pagination.total_pages > 1 %}
<span><</span>nav class="pagination"<span>></span>
  <span><</span>span class="pagination"<span>></span>
      Página {{ pagination.current_page }} de {{ pagination.total_pages }}
      {% if pagination.prev_page %}
          <span><</span>a href="{{ pagination.prev_url }}" class="previous"<span>></span>←<span><</span>/a<span>></span>
      {% endif %}
      {% if pagination.next_page %}
          <span><</span>a href="{{ pagination.next_url }}" class="next"<span>></span>→<span><</span>/a<span>></span>
      {% endif %}
  <span><</span>/span<span>></span>
<span><</span>/nav<span>></span>
{% endif %}
      </pre>
      <p>O código da páginação deve ficar dentro do loop {% products %}</p>
      <!-- // -->

      <h4 id="filtros">Filtros</h4>
      <p>aguardando atualização...<br/><br/><br/><br/></p>
      <!-- // -->

      <h3 id="product.liquid">Product.liquid</h3>
      <p>Template para exibição do produto, suas imagens, produtos relacionados. Aqui também fica o formulário que permite adicionar o item ao carrinho, neste formulário o cliente pode selecionar qual atributo do produto (cor, tamanho, etc) ele realmente quer.</p>
      <p>Para exibir o nome, preço, remarcações, disponibilidade, parcelas  utilize  tags dentro do loop <a href="#products" class="laranja">{% product %}</a></p>
      <!-- // -->
      <h4 id="enviar-produto-ao-carrinho">Enviar produto ao carrinho</h4>
      <p>
        **As configurações de atributo devem estar ativadas no admin.
      </p>
      <p><img src="atributos.jpg"></p>
      <p>***quando o atributo nao é marcado como "opcional de compra" nao é obrigatório montar o sku apartir do valor contido neste atributo.</p>
      <pre>
<span><</span>form action="{{ cart_item_url }}" method="post"<span>></span>
  <span><</span>input type="hidden" name="sku">
  <span><</span>input type="number" name="quantity" value="1">
<span><</span>/form>
      </pre>
      <p>Enviar um <b>formulário com action {{ cart_item_url }}</b> e os campos sku e quantidade obrigatórios.</p>
      <div></div><br>
      <p>Para acessar os atributos é preciso usar a tag  <b>{% variants %}</b> ou carregá-los via <b>javascript</b> injetando os elementos de seleção no html, para isto basta iniciar um variável no seu arquivo.js como por ex:<br> variant = vnda.variants.all().</p>
      <p>** Importante ter noções de programação orientada a objetos<br>

        <a href="#produto-com-2-atributos" class="laranja">Exemplo de uso para um produto com 2 atributos</a>

      </p>
      <pre>
// No .liquid
{% variants product_id:product.id %}
{{variant.properties["property1"]["value"]}}
{{variant.properties["property2"]["value"]}}
{% endvariants %}

// Arquivo .js
$(function(){
  // variável que recebe os objetos com as informaçoes de cada variante
  variants = vnda.variants.all()
})
      </pre>
      <!-- // -->
      <!-- <h5 id="montar-enviar-o-sku">Montar/Enviar o Sku</h5>   -->

       <h5 id="listar-variantes-de-um-atributo">Listar variantes de um atributo</h5>
      <pre>
// Variantes do produtos
camiseta tamanho M #000
camiseta tamanho M #fff
camiseta tamanho M #333
camiseta tamanho G #000
camiseta tamanho G #333

// Quais as variantes com tamanho M?
$(function(){
  variants = vnda.variants.all()
  var array = vnda.variants.find({Tamanho: "M" })
  // variável array recebe o objeto json com todas as informações
  // de variante com tamanho M
  // apartir desses dados é possível montar o html
  // com todas as cores desse atributo
})

      </pre>
      <p>Para exibir as variantes que pertencem ao um mesmo atributo usamos o javascript.</p>
      <p>**só para os casos de produtos com mais de 1 atributo</p>

      <h5 id="como-montar-montar-o-sku">Como montar o sku?</h5>
      <p>
         Como já dito antes, para que um item seja adicionado ao carrinho é preciso enviar um campo com o valor do sku da variante(há casos que é preciso montar um sku) e enviar para o url "/carrinho/adicionar-carrinho".
      </p>

      <pre>
$(function(){
  // filtro que retorna variantes com o rgb #000
  vnda.variants.find({Cor: "#000" })
})
      </pre>

      <div></div><br>

      <p>Para montar e/ou enviar o sku para /carrinho/adicionar vai depender da quantidade de atributos do produto ou escopo do projeto, sendo viável carregar via js ou tag por .liquid.</p>

      <p><b>LISTANDO O SKU</b></p>
      <p>** Para produtos com 1 variante</p>
      <pre>

{% variants product_id:product.id %}
  {{ variant.sku }}
{% endvariants %}

ou

$(function(){
  // variável que recebe os objetos com as informaçoes de cada variante
  var variants = vnda.variants.all()
  // acessando a propriedade sku do objeto
  variants.sku
})
      </pre>
      <p>
       Método mais simples, é recomendável usar a tag {{ variant.sku }} do .liquid no loop <a class="laranja" href="#variants">{% variants %}</a>.
      </p>
      <div></div><br>
      <p>**Para produtos com mais de uma variante</p>
      <p>
        Podemos dividir em 2 casos: os <b>produtos com 1 ou 2 atributos.</b>
      </p>
      <pre>
// montar o sku com 1 atributos
variantes do produto:
camiseta tamanho M
camiseta tamanho G
camiseta tamanho GG

Qual o sku da variante com tamanho G?

$(function(){
  variants = vnda.variants.all()
  // lista o valor de sku para a variante com o tamanho G
  vnda.variants.find({Tamanho: "G"})[0].sku
})

// montar o sku com 2 atributos
camiseta tamanho M  #000
camiseta tamanho M  #fff
camiseta tamanho M  #333

Qual o sku da variante com tamanho M  e cor #000 ?

$(function(){
  variants = vnda.variants.all()
  // lista o valor de sku para a variante com o tamanho G
  vnda.variants.find({Tamanho: "G", Cor:"#000" })[0].sku
})
      </pre>


      <div></div><br>

      <!-- // -->

      <h4 id="mensagem-de-erro">Mensagem de Erro</h4>
      <pre>
{% if flash.cart.error  %}{{ flash.cart.error }}{% endif %}
      </pre>
      <p>
        Quando existir algum erro no formulário de compra »
      </p>
      <!-- // -->

      <h4 id="listar-imagens-do-produto">Listar imagens do produto</h4>
      <pre>
{% images %}
  {{ image.url }}
{% endimages %}
      ou
{% images sku:sku %}
  {{ image.url }}
{% endimages %}
    </pre>
    <p>Para exibir todas imagens cadastradas de um produto deve-se utilizar o tag {% imagens %}. Se prefirir listar apenas as imagens de uma variante x, utilize o parâmetro "sku"
    {% images sku:sku %}.
    </p>
    <h4 id="produtos-também-vistos">Produtos Também Vistos</h4>
    <pre>
{% also_viewed id:product.id key:session_id %}
{{ product }}
{% endalso_viewed %}
      </pre>
      <p>* geralmente utilizado na página de produto</p>
      <!-- // -->

      <h3 id="cart.liquid">Cart.liquid</h3>
      <p>1ª etapa do processo de compra. <br>
      Neste template é listados os produtos do carrinho que ficam armazenados na váriavel {{ cart }}, o resumo do carrinho(padrão no layout), o campo input para o cálcudo do CEP e o formulário de frete(métodos de entrega).<p>
      <pre>
{% if cart.items_count > 0 %}
  {{ cartitems }}
{% else %}
  Carrinho Vazio
{% endif %}
      </pre>
      <p>* O campo do CEP só deve aparecer quando o carrinho possuir ao menos 1 item adicionado. Para verificar use {% if cart.items_count > 0 %} no .liquid.</p>
      <div></div><br>
      <!-- // -->

      <h4 id="atualizar-item-do-carrinho">Atualizar item do carrinho</h4>
      <pre>
<span><</span>form action="{{ cart_url }}" method="post"<span>></span>
  <span><</span>input type="hidden" name="_method" value="patch" /<span>></span>
  <span><</span>input type="hidden" name="item_id" value="999" /<span>></span>
  <span><</span>input type="hidden" name="quantity" value="1" /<span>></span>
  <span><</span>input type="submit" value="Alterar"/<span>></span>
<span><</span>/form<span>></span>
      </pre>
      <p>Para alterar a quantidade  de item do carrinho,
        você precisa fazer um POST para a URL definida na variável {{ cart_url }}<br>
      </p>
      <!-- // -->

      <h4 id="remover-item-do-carrinho">Remover item do carrinho</h4>
      <pre>
<span><</span>form action="{{ cart_url }}" method="post"<span>></span>
  <span><</span>input type="hidden" name="_method" value="patch" /<span>></span>
  <span><</span>input type="hidden" name="item_id" value="999" /<span>></span>
  <span><</span>input type="submit" value="Excluir"/<span>></span>
<span><</span>/form<span>></span>
      </pre>

        <p>Para Remover um produto do carrinho,
            você precisa fazer um POST para a URL definida na variável {{ cart_url }},
            passando dois campos:<br>
          * item_id: Id do item selecionado pelo usuário<br>
          * _method: Informar o value "Delete"
        </p>
        <div></div><br>
      <pre>
  $.post("{{ cart_url }}", { item_id: 999, cart_method: "Delete" }, function() {
    alert("Produto Removido com sucesso");
  });
      </pre>
      <p>Ou via AJAX:</p>
      <!-- // -->

      <h4 id="calcular-frete">Calcular frete</h4>
      <pre>
<span><</span>form action="{{ shipping_zip_url }}" method="post"<span>></span>
  <span><</span>fieldset<span>></span>
    <span><</span>p<span>></span>
      <span><</span>input  type="text" name="zip" value="{{ shipping_address.zip }}"<span>></span>
      <span><</span>button type="submit" name="submit-cep"<span>></span>Calcule seu frete<span><</span>/button<span>></span>
    <span><</span>/p<span>></span>
  <span><</span>/fieldset<span>></span>
 <span><</span>/form<span>></span>
      </pre>
      <p>Utilizar o {{ shipping_zip_url }} na action * validar cep pode ser utilizado o flash.zip.error</p>
      <div></div><br>
      <pre>
{{ flash.zip.error }} // exibe mensagem de erro padrão
  ou
{% if flash.zip.error %}
  ....
{% endif %}
      </pre>
      <p>Quando existir algum erro no calculo do frete >></p>
      <!-- // -->

      <h4 id="método-de-entrega">Método de entrega</h4>
      <pre>
// se o frete já foi calculado
// exibe no html o formulário com os métodos de
{% if shipping_address.zip %}
  <span><</span>form action="{{ shipping_method_url }}" method="POST">
    {% shippingmethods %}
      <span><</span>input type="radio" name="type" value="{{ shipping_method.value }}"">
      {{ shipping_method.name }}
      {{ shipping_method.price | money_format }}
      {{ shipping_method.description }}
      <a href="#tag-do-valor-que-falta-para-frete-grátis" class="gray">//valor que falta para o frete grátis</a>
      {{  shipping_method.value_needed_to_discount }}
    {% endshippingmethods %}
{% endif %}
  <span><</span>form>
      </pre>
      </pre>
      <p>
         Faça um form com action "{{ shipping_method_url }} e com input type radio com name="type".
      </p>
      <p>
        Não avançar nas etapas do carrinho sem ao menos um método escolhido<br>
      </p>
      <!-- -->
      <h4 id="cupom-de-desconto">Cupom de Desconto</h4>
      <pre>
{% if template == "cart" %}
  {% unless shipping_address.zip %}
    <span><</span>form action="{{ coupon_url }}" method="post" class="coupon-form">
        <span><</span>fieldset>
            <span><</span>label for="coupon-code" class="coupon-label">INSIRA SEU CUPOM DE DESCONTO<span><</span>/label<span>></span>
            <span><</span>input type="text" name="code" id="coupon-code" value="{{ cart.coupon_code }}"<span><</span>span>></span>
            <span><</span>button type="submit" class="ir">OK<span><</span>/button<span>></span>
        <span><</span>/fieldset<span>></span>
    <span><</span>/form<span>></span>
{% endunless %}
{% endif %}
      </pre>
      <p>* O cupom de desconto só deve aparecer neste template, umas das formas é verificando se a tag "template" é igual a "cart" e se o cep ainda não foi informado.<br></p>
      <p>O form de cupom de desconto deve usar a action {{ coupon_url  }}</p>
      <div></div><br />
      <p><strong>Formulário de Cupom de Desconto</strong></p>
      <pre>
  <span><</span>form action="{{ coupon_url }}" method="post" class="coupon-form">
      <span><</span>fieldset>
          <span><</span>label for="coupon-code" class="coupon-label">INSIRA SEU CUPOM DE DESCONTO<span><</span>/label<span>></span>
          <span><</span>input type="text" name="code" id="coupon-code" value="{{ cart.coupon_code }}"<span><</span>span>></span>
          <span><</span>button type="submit" class="ir">OK<span><</span>/button<span>></span>
      <span><</span>/fieldset<span>></span>
  <span><</span>/form<span>></span>
      </pre>
      <p>O form de cupom de desconto deve usar a action {{ coupon_url  }}</p>
      <div></div><br>

      <pre>
{% if flash.coupon.error %}
  {{ flash.coupon.error }}
{% endif %}
      </pre>
      <p>Quando existir algum erro no formulário de cupom de desconto &raquo;</p>

      <div></div><br>
      <p>Ápós o preechimento do CEP a url da loja é redirecionada para /frete. Também é listado o conteúdo da variável {{ shipping_method }} que contém os dados para montar o html do formulário de frete.<br> * use no action {{ shipping_method_url }} <span class="summary"><code><a href="{% shippingmethods %}" class="laranja">&raquo; ver implementação no .liquid</a></code></span></p>
      <p>Após validar e enviar o formulário do frete o site é redirencionado para a próxima etapa.</p>
      <!-- // -->

      <h3 id="address.liquid">Address.liquid</h3>
      <p>3ª etapa do processo de compra</p>
      <p>Template onde é exibido o formulário responsável por capturar as informações para entrega do pedido, assim como dados pessoais do cliente, como e-mail e CPF.</p>
      <!-- // -->

      <h4 id="salvar-dados-do-endereço">Salvar dados do Endereço</h4>
      <p>A plataforma Vnda permite que pedidos sejam feitos tanto para pessoas físicas, quanto jurídicas. O que define quando é um ou outro é o campo documents, se ele possuir a chave cpf e for um CPF válido, então é pessoa física, se ele possuir a chave cnpj e for um CNPJ válido, é pessoa júridica.</p>
      <pre>
<span><</span>form action="{{ shipping_address_url }}" method="POST"<span>></span>
  ...
<span><</span>/form<span>></span>
      </pre>
      <p>O formulário deve ser enviado para a URL definida na variável {{ shipping_address_url }}. Ao enviar dados para entrega e cobrança utilize a váriavel {{ addresses_url }} <a href="#dados-para-cobranca" title="Dados para cobrança"class="laranja">mais detalhes aqui</a></p></p>
      <div></div><br />
      <!-- // -->

      <h4 id="pessoa-física">Pessoa Física</h4>
      <p>O cadastro de pessoa fisica, exige os seguinte campos:</p>
      <p>Antes de confirir a tabela abaixo, é importante para seu conhecimento compreender que os campos <i class="laranja">zip</i> e <i class="laranja">state</i> são sempre extraídos do CEP que foi informado pelo cliente e não podem ser alterado sem que o CEP seja informado novamente e o frete seja recalculado.</p>
      <table>
        <thead>
        <tr>
          <td style="width:160px;">Input "name"</td>
          <td>Descrição</td>
        </tr>
        </thead>
          <tr title="value={{ shipping_address.first_name }}">
            <td>first_name</td>
            <td>Primeiro nome do cliente.</td>
          </tr>
          <tr title="value={{ shipping_address.last_name }}">
            <td>last_name</td>
            <td>Sobrenome do cliente.</td>
          </tr>
          <tr title="value={{ shipping_address.email }}">
            <td>email</td>
            <td>Um e-mail válido.</td>
          </tr>
          <tr title="value={{ shipping_address.documents.cpf }}">
            <td>documents[cpf]</td>
            <td>CPF válido.</td>
          </tr>
          <tr title="value={{ shipping_address.first_phone_area }}">
            <td>first_phone_area</td>
            <td>Código de área do um telefone do cliente.</td>
          </tr>
          <tr title="value={{ shipping_address.first_phone }}">
            <td>first_phone</td>
            <td>Número de um telefone do cliente.</td>
          </tr>
           <tr title="value={{ shipping_address.second_phone_area }}">
            <td>second_phone_area</td>
            <td>Código de área do um telefone do cliente.</td>
          </tr>
          <tr title="value={{ shipping_address.second_phone }}">
            <td>second_phone</td>
            <td>Número de um telefone do cliente.</td>
          </tr>
          <tr title="value={{ shipping_address.street_name }}">
            <td>street_name</td>
            <td>Nome da rua que o pedido será enviado.</td>
          </tr>
          <tr>
            <td title="value={{ shipping_address.street_number }}">street_number</td>
            <td>Número da casa/prédio que o pedido será enviado.</td>
          </tr>
          <tr title="value={{ shipping_address.neighborhood }}">
            <td >neighborhood</td>
            <td>Nome do bairro que o pedido será enviado.</td>
          </tr>
          <tfoot>
            <tr>
              <td class="title"><span class="laranja">**Campos opcionais</span></td>
              <td class="title">Descrição</td>
            </tr>
            <tr title="value={{ shipping_address.cellphone_area }}">
              <td>cellphone_area</td>
              <td>Código de área de um celular do cliente.</td>
            </tr>
             <tr title="value={{ shipping_address.cellphone }}">
              <td>cellphone</td>
              <td>Número de um telefone celular do cliente.</td>
             </tr>
             <tr>
              <td>complement</td>
              <td>Informação como número apartamento/casa/lote do cliente. Ou qualquer outra informação necessária para a entrega do pedido.</td>
            </tr>
          </tfoot>
     </table>
     <p style="text-align:right">tabela 1.1</p>
     <!-- // -->

      <h4 id="pessoa-júridica">Pessoa Júridica</h4>
      <p>O cadastro de pessoa júridica necessita dos seguintes campos:</p>

      <p>Esse cadastro ainda pode ter os mesmos campos opcionais que o cadastro de pessoa fisica tem, além de seguir a mesma regra para os campos <i>city</i> e <i>state</i>.</p>
      <p>O campo documents permite que você envie até cinco tipos de documentos diferentes. Você pode solicitar no cadastro documentos como, por exemplo, <i>RG e/ou Inscrição Estadual.</i></p>

      <table>
      <thead>
      <tr>
        <td>Input "name"</td>
        <td>Descrição</td>
      </tr>
      </thead>
      <tr>
        <td title="value={{ shipping_address.first_name }}">first_name</td>
        <td>Primeiro nome da pessoa que está realizando a compra.</td>
       </tr>
       <tr>
        <td title="value={{ shipping_address.last_name }}">last_name</td>
         <td>Sobrenome da pessoa que está realizando a compra.</td>
       </tr>
       <tr>
        <td title="value={{ shipping_address.company_name }}">company_name</td>
        <td>Nome da empresa.</td>
       </tr>
       <tr>
        <td title="value={{ shipping_address.email }}">email</td>
        <td>Um e-mail válido.</td>
       </tr>
       <tr>
        <td title="value={{ shipping_address.documents.cnpj }}">documents[cnpj]</td>
        <td>CNPJ válido.</td>
       </tr>
        <tr title="value={{ shipping_address.first_phone_area }}">
          <td>first_phone_area</td>
          <td>Código de área do telefone da empresa.</td>
        </tr>
        <tr title="value={{ shipping_address.first_phone }}">
          <td>first_phone</td>
          <td>Número do telefone da empresa.</td>
        </tr>
        <tr title="value={{ shipping_address.street_name }}">
          <td>street_name</td>
          <td>Nome da rua que o pedido será enviado.</td>
        </tr>
        <tr title="value={{ shipping_address.street_number }}">
          <td>street_number</td>
          <td>Número da casa/prédio que o pedido será enviado.</td>
        </tr>
        <tr title="value={{ shipping_address.neighborhood }}">
          <td>neighborhood</td>
          <td>Nome do bairro que o pedido será enviado.</td>
        </tr>
      </table>
       <p style="text-align:right">tabela 1.2</p>
       <!-- // -->

       <h4 id="dados-para-cobranca">Dados para cobrança/entrega</h4>

       <p>Formulários com dados diferentes para <b>cobrança</b> e <b>entrega</b>, respectivamente serão diferenciados
       pelas variáveis "billing_address" ou "shipping_address".</p>
       <p><b>Atenção:</b> neste caso o action do formulário da página de endereço deve mudar para "/enderecos" = {{ addresses_url }} </p>
       <p>Dados para Cobrança</p>
       <table>
          <thead>
          <tr>
            <td style="width:160px;">Atributo "name"</td>
            <td>Atributo "value"</td>
          </tr>
          </thead>
          <tr>
            <td>billing_address[first_name] </td>
            <td>{{ billing_address.first_name }}</td>
          </tr>
          <tr>
            <td>billing_address[last_name] </td>
            <td>{{ billing_address.last_name }}</td>
          </tr>
          <tr>
            <td colspan="2">...</td>
          </tr>
        </table>
        <p>Dados para entrega</p>
       <table>
          <thead>
          <tr>
            <td style="width:160px;">Atributo "name"</td>
            <td>Atributo "value"</td>
          </tr>
          </thead>
          <tr>
            <td>shipping_address[first_name] </td>
            <td>{{ shipping_address.first_name }}</td>
          </tr>
          <tr>
            <td>shipping_address[last_name] </td>
            <td>{{ shipping_address.last_name }}</td>
          </tr>
          <tr>
            <td colspan="2">...</td>
          </tr>
        </table>
        <p>Dados para Entrega e Pagamentos são os mesmo?</p>
        <p> Para que os campos de entrega e cobrança sejam o mesmo não é necessário usar a variável "billing_address",
           utilize no value "shipping_address.[nome_do_campo]", automaticamente o sistema
           usará os mesmos dados de entrega para cobrança.</p>
       <table>
          <thead>
          <tr>
            <td style="width:160px;">Atributo "name"</td>
            <td>Atributo "value"</td>
          </tr>
          </thead>
          <tr>
            <td>first_name</td>
            <td>{{ shipping_address.first_name }}</td>
          </tr>
          <tr>
            <td>last_name</td>
            <td>{{ shipping_address.last_name }}</td>
          </tr>
          <tr>
            <td colspan="2">...</td>
          </tr>
        </table>
        <p style="text-align:right">tabela 1.3</p>


<pre style="background-color:transparent !important">





</pre>
      <!-- // -->

      <h3 id="payment.liquid">Payment.liquid</h3>
      <p> 3ª etapa do processo de compra. Aqui o cliente informa os dados do cartão de crédito ou dá inicio a geração do boleto. </p>
      <!-- // -->

      <h4 id="enviar-dados-para-pagamento">Enviar dados para pagamento</h4>
      <pre>
<span><</span>form action="{{ payment_url }}" method="POST"<span>></span>
  …
<span><</span>/form<span>></span>
      </pre>
      <p>
      O form usado para enviar esses dados deve estar com o atributo action definido para o valor da variável {{ payment_url }}, dessa forma
      </p>

      <h5 id="cartão-crédito">Cartão Crédito</h5>
      <p>Para enviar dados de pagamento usando cartão de crédito, os seguintes campos são obrigatórios:</p>
      <p>O form usado para enviar esses dados deve estar com o atributo action definido para o valor da variável {{ payment_url }}, dessa forma:</p>
      <p>Caso a transação seja efetuada com sucesso, o cliente é automaticamente redirecionado para a página de conclusão da compra.</p>

      <table>
      <thead>
        <tr>
          <td>Input "name"</td>
          <td>Descrição</td>
        </tr>
      </thead>
      <tr>
        <td>payment_method</td>
        <td>O valor desse campo deve ser sempre <b class="laranja">credit</b> para compras com cartão de crédito.</td>
      </tr>
      <tr>
        <td>card_flag</td>
        <td> É bandeira do cartão do cliente, ele deve selecionar isso em campos do tipo select ou radio.</td>
      </tr>
      <tr>
        <td>card_number</td>
        <td>Campo onde o cliente informa o número do cartão.</td>
      </tr>
      <tr>
        <td>card_code</td>
        <td>Campo para o código de segurança do cartão.</td>
      </tr>
      <tr>
        <td>card_owner_name</td>
        <td>Campo onde o cliente informa o nome impresso no cartão.</td>
      </tr>
      <tr>
        <td>card_month</td>
        <td>Número mês que vence o cartão do cliente.</td>
      </tr>
      <tr>
        <td>card_year</td>
        <td>Número do ano, começando no ano atual, que vence o cartão do cliente.</td>
      </tr>
      <tr>
        <td>installments</td>
        <td>Número de parcelas que o cliente deseja fazer a compra.</td>
      </tr>
      </table>

      <h6 id="Listar as parcelas">Listar as parcelas</h6>
      <pre>
{% installments %}
  <span><</span>input type="radio" name="installments" value="{{ installment.number }}" />
  {{ installment.number }}x de
  {{ installment.price | money_format }}
  {% if installment.interest %}
    juros {{ installment.interest_rate }} a.m. ({{ installment.total | money_format}})
  {% else %}
    sem juros
  {% endif %}
{% endinstallments %}
      </pre>

      <p>Para listar as parcelas utilize a variável "installments".</p>
      <p>*Dentro do loop "installments" verificar se há juros.</p>

      <h4 id="dados-para-teste">Dados para teste</h4>
      <pre>
Visa
<ul>
  <li>Número: <strong>4012001038443335</strong></li>
  <li>Código de Segurança: <strong>123</strong></li>
  <li>Vencimento: <strong>05/2018</strong></li>
  </li>
</ul>
      </pre>
      <p>
        Para efetuar testes no ambiente de testes da Vnda, você pode usar os seguintes números de cartão de crédito (esses números são os mesmos fornecidos pela Cielo no manual do desenvolvedor):
      </p>
      <p>Para que as transações sejam autorizadas pela Cielo no ambiente de testes, o total do pedido não deve conter centavos (R$ 100,23, por exemplo). Caso contrário, todas as transações serão negadas.</p>
      <div></div><br>
      <pre>
Mastercard
  <ul>
    <li>Número: <strong>5453010000066167</strong></li>
    <li>Código de Segurança: <strong>123</strong></li>
    <li>Vencimento: <strong>05/2018</strong></li>
  </ul>
</pre>
<div></div><br>
      <pre>
Diners Club
<ul>
  <li>Número: <strong>36490102462661</strong></li>
  <li>Código de Segurança: <strong>123</strong></li>
    <li>Vencimento: <strong>05/2018</strong></li>
</ul>
</pre>
<div></div><br>
      <pre>
Amex
<ul>
  <li>Número: <strong>376449047333005</strong></li>
  <li>Código de Segurança: <strong>1234</strong></li>
  <li>Vencimento: <strong>05/2018</strong></li>
</ul>
  </pre>
      <pre>Discover
<ul>
  <li>Número: <strong>6011020000245045</strong></li>
  <li>Código de Segurança: <strong>123</strong></li>
  <li>Vencimento: <strong>05/2018</strong></li>
</ul>
      </pre>
      <div></div><br>
      <pre>
Elo
<ul>
  <li>Número: <strong>6362970000457013</strong></li>
  <li>Código de Segurança: <strong>123</strong></li>
  <li>Vencimento: <strong>05/2018</strong></li>
</ul>
      </pre>
      <!-- // -->

      <h5 id="boleto">Boleto</h5>
      <pre>
payment_method: O valor desse campo deve ser sempre <b class='laranja'>slip</b> para compras com no boleto.

      </pre>
      <p>O pagamento do boleto necessita apenas o campo:</p>
    <!-- // -->

      <h3 id="finished.liquid">Finished.liquid</h3>
      <p> 4ª e última etapa do processo de compra. Aqui são exibidas as informações do pedido, como o número e/ou o link para impressão do boleto, junto com a mensagem de conclusão da compra. </p>
    <!-- // -->

      <h3 id="account.liquid">Account.liquid</h3>
      <p>Template usado para exibir os dados da conta do cliente, os pedidos efetuados, assim como a situação deles. Nesta página o cliente também pode alterar os dados pessoais, como nome, e-mail e senha. </p>
      <p>Os dados do pedido ficam armezados na variável {{ order }}<br><span class="summary"><code><a href="#orders" class="laranja">&raquo; ver implementação no .liquid</a></code></span></p>
      <pre>
<span><</span>form action="{{ account_url }}" method="post"<span>></span>
   <span><</span>input type="text" name="email" value="{{ client.email }}"<span>></span>
  <span><</span>input type="text" name="password" <span>></span>
  <span><</span>input type="text" name="password_confirmation" <span>></span>
  <span><</span>input type="checkbox" name="terms"<span>></span>
<span><</span>/form<span>></span>
      </pre>
      <p>Para alterar  os dados pessoais crie um form com o action {{ account_url }} e envie os dados nome, email, senha.</p>

      <h4 id="formulário-de-atualizar Senha">Formulário para Atualizar Senha</h4>
      <pre>
<span><</span>form action="{{ account_url }}" method="post""<span>></span>
  <span><</span>input type="text" name="{{ client.email }}" <span>></span>
  <span><</span>input type="text" name="password" <span>></span>
  <span><</span>input type="text" name="password_confirmation" <span>></span>
  <span><</span>input type="submit" value="Atualizar Senha"<span>></span>
<span><</span>/form<span>></span>
      </pre>
      <p>O formulário para atualizar a senha a senha deve usar action {{account_url}}</p>
      <div></div><br>
      <pre>
{% if flash.client.error %}
      </pre>

      <p>Mensagem de sucesso e de erro para o form de recuperar senha.</p>
      <!-- // -->

      <h3 id="login.liquid">Login.liquid</h3>
      <p> Template usado tanto para novos cadastros quanto para logins de clientes já cadastrados. Desta página parte também o login via Facebook, que permite que clientes participem de promoções específicas.
      <p><span class="summary"><code><a href="#formulário-de-cadastro" class="laranja">&raquo; ver implementação no .liquid</a></code></span></p>
      <!-- // -->

      <h4 id="formulário-de-Cadastro">Formulário de Cadastro</h4>
      <pre>
<span><</span>form action="{{ login_url }}" method="post"<span>></span>
  <span><</span>input id="new_client_terms" name="new_client[terms]" type="hidden" value="on"<span>></span>
  <span><</span>input type="text" name="email" <span>></span>
  <span><</span>input type="text" name="password" <span>></span>
  <span><</span>input type="text" name="password_confirmation" <span>></span>
  <span><</span>input type="checkbox" name="terms"<span>></span>
<span><</span>/form<span>></span>
      </pre>
      <p>O form de cadastro deve usar a action {{ login_url }}</p>
      <div></div><br>
      <pre>
{% if flash.signup.error %}
  {{ flash.signup.error }}
{% endif %}}
      </pre>
      <p>Quando existir algum erro no formulário de cadastro &raquo;</p>
      <!-- // -->
      <h4 id="formulário-de-Login">Formulário de Login</h4>
      <pre>
<span><</span>form action="{{ login_url }}" method="post"<span>></span>
  <span><</span>input type="hidden" name="_method" value="put"<span>></span>
  <span><</span>input type="text" name="password" <span>></span>
  <span><</span>input type="text" name="password_confirmation" <span>></span>
 <span><</span>/form<span>></span>
      </pre>
      <p>O form de login deve usar a action {{ login_url }}</p>
      <div></div><br>
      <pre>
{% if flash.login.error %}
  {{ flash.login.error }}
{% endif %}
      </pre>
      <p>Quando existir algum erro no formulário de login &raquo;</p>
      <!-- // -->
      <h4 id="formulário-de-Recuperar Senha">Formulário de Recuperar Senha</h4>

      <pre>
<span><</span>form action="{{recover_password_url}}" method="post""<span>></span>
  <span><</span>input type="text" name="email" <span>></span>
  <span><</span>input type="submit" value="RECUPERAR SENHA"<span>></span>
<span><</span>/form<span>></span>
      </pre>

      <p>O formulário de recuperar a senha deve usar action {{recover_password_url}}</p>
      <p>O usuário vai receber um email com a nova senha</p>

      <pre>
{{ flash.recover_password.ok }}
{{ flash.recover_password.error }}
      </pre>

      <p>Mensagem de sucesso e de erro para o form de recuperar senha.</p>

      <!-- // -->
      <h3 id="search.liquid">Search.liquid</h3>
      <pre>
<span><</span>form action="{{ search_url }}" method="post""<span>></span>
  <span><</span>input type="search" name="q" <span>></span>
  <span><</span>input type="submit" value="Atualizar Senha"<span>></span>
<span><</span>/form<span>></span>
      </pre>
      <p> Template para a exibição dos resultados de uma busca. Para fazer uma busca, use um formulário apontando para /busca via método GET ou acesse diretamente a URL /busca?q=termo. Não use POST.</p>
      <div></div><br>

      <p>A lista de produtos que casam com o termo buscado estará na variável {{ products }}.</p>
      <pre>
{% for product in products %}
  {{ product.image_url | resize: '234x' }}
    {{ product.url }}
    {{ product.tag_names }}
    {{ product.reference }}
    {{ product.description }}
    {% if product .available %}
      {% if product.on_sale %}
        // preço
        {{product.price | money_format}}
        // preço com desconto
        {{ product | apply_discount | money_format }}
      {% else %}
        preço: {{ product.price | money_format }}
      {% endif %}
    {% else %}
     Produto Esgotado
    {% endif %}
{% endfor
      </pre>
      <p>Para montar o resultado da busca utilize {% for product in products %}, e detro desse loop é necessário chamas as tags corretas:</p>
      <div></div><br>
      <pre>
{% if flash.search.error %}
 {{ flash.search.error }}
{% endif %}
      </pre>
      <p>Se não exister resultados na busca usar {{ flash.search.error }}.</p>
      <p>Para mostrar o termo da busca  {{ params.q | strip_html }}</p>

      <h3 id="page.liquid">Page.liquid</h3>
      <p>Vnda permite que sejam criadas e alteradas páginas pelo Painel Administrativo. Isso é feito pelo próprio gestor da loja pois dispensa conhecimentos de programação. Neste template serão exibidas as páginas, de acordo com a URL digitada. </p>
      <!-- // -->

      <h2 id="tags-personalizadas-da-vnda">Tags personalizadas da Vnda</h2>
      <p> A plataforma atende com um conjunto de tags responsável por tornar a aplicação dinâmica.</p>
      <!-- // -->
      <h3 id="orders">{% orders %}</h3>
      <pre>
{% orders client_id:client.id %}
  {{ order.code }}
  {{ order.email }}
  {{ order.received_at | date: '%m/%d/%Y') }}
  {{ order | order_status }}
  {{ order.total | money_format }}
{% endorders  %}
      </pre>
      <p>Listar pedidos é utilizado no template account.liquid. </p>
      <p>* No template account.liquid é possível enviar e exibir dados do usuário:</p>
      <div></div><br>
      <pre>
<span><</span>form action="{{acount_url}}" method="post"<span>></span>
  <span><</span>input type="text" name="email" /<span>></span>
  <span><</span>input type="password" name="password" /<span>></span>
  <span><</span>input type="password" name="password_confirmation" /<span>></span>
<span><</span>/form>
      </pre>
      <p>* editar senha</p>
      <div></div><br>
      <pre>
{{ client.first_name }}
{{ client.last_name}}
{{ client.email }
      </pre>
      <p>* exibir dados do usuário</p>
      <!-- -->

      <h3 id="cartitems">{% cartitems %}</h3>
      <pre>
{% cartitems  %}
{{  item.image_url | resize: '234x' }}
  {{ item.product_name }}
  {{ item.id }}
  {{ item.quantity }}
  {{item.subtotal | money_format }}
  {{ item.variant_name | money_format }}
{% endcartitems %}
      </pre>
      <p>* Loop para exibir os itens do Carrinho</p>
      <!-- -->

      <h3 id="products">{% products %}</h3>
      <pre>
{% products tag:tag.name parent_tag:parent_tag.name page:params.page per_page:25 %}
  {{ product.image_url | resize: '234x' }}
  {{ product.url }}
  {{ product.reference }}
  {{ product.description }}
  {% if product.available %}
    {% if product.on_sale %}
     // preço
     {{product.price | money_format}}
     // preço com desconto
     {{ product | apply_discount | money_format }}
     // parcelas
     (ou em até {{ product.installments.size }}x de: {{  product | apply_discount | installments: product.installments.size | money_format }})
    {% else %}
      // preço
      preço: {{ product.price | money_format }}
      // parcelas
      (ou em até {{ product.installments.size }}x de: {{ product.price | installments: product.installments.size | money_format }})
    {% endif %}
  {% else %}
   Produto Esgotado
  {% endif %}
{% endproducts %}

*listar produtos por id sendo assim possível buscar determinado produto ou uma lista deles
ex:
{% products ids:"1,2,3,4,5" %}
  {{product}}
{% endproducts %}
OU
{% products ids:"5" %}
  {{product}}
{% endproducts %}
      </pre>
      <p>
        Listar produtos<br />
        * loop para exibir os produto<br>
        * aceita o paramentro "limit".
      </p>
      <p>
        Ainda que não seja informado os parâmetros "limit" e "per_page" serão listados no <strong>máximo 25 produtos</strong> por página.
      </p>
      <p>
        Caso o parametro "limit" seja informado, os parâmetros "page" e "per_page" serão desconsiderados.
      </p>
      <p>
        A váriavel {{ params.page }} vem dos parâmetros da url ..produtos?page=2
      </p>
      <div></div><br>
      <pre>
{% products tag:tag.name filter:size:GG %}
{% products tag:tag.name filter:price:0-50 %}
{% products tag:tag.name filter:price:50-100 %}
{% products tag:tag.name filter:price:50-150 filter:size:GG %}
* esses filtros podem ser selecionados por um form e o valor pode ser capturado de acordo com o nome do input, podeno usar o nome que desejar.
{% products tag:tag.name filter:size:params.tamanho %} se o nome do input “tamanho”
{% products tag:tag.name filter:price:params.price %} se o nome do input “price”
* podem ser listadas todas as opções de tamanho disponíveis por tag
{% sizes tag:”nome-da-tag ”%}{{size}}{% endsizes %}
      </pre>
      <p>
        Filtrar produtos <br />
        * produtos podem ser filtrados pode e tamanho e faixa de preço.
      </p>
      <div></div><br>
      <pre>
{% products tag:tag.name sort:”price” %}
* da mesma forma que os filtros, a opção de ordenação do usuário pode ser enviada por um form e colocada na tag de produtos.
{% products tag:tag.name sort:params.order %}
 se o nome do field for “ordem”
      </pre>
      <p>Ordenar produtos<br /><p>
        <p>
        Por padrão, os produtos são ordenados de forma que os atualizados mais recentemente sejam exibidos primeiro. Caso o parâmetro "tag" esteja presente, os produtos serão ordenados pela importância dentro de cada tag.<br />
        </p>
        <p>
          Para usar outra ordenação, basta incluir o parãmetro sort na tag que lista os produtos.<br />
        </p>
        <p>
          Produtos podem ser ordenados por “price”, “price,desc”, “newest”, “newest,desc”<br />
        (newest é baseado na data de cadastro do produto), “name”, “name,desc”.</p>
        <div></div><br>
        <!-- // -->
        <h3 id="tags">{% tags %}</h3>
        <pre>
{% tags product_id:product.id type:"marca" limit:1 %}
  {{ tag.name}}
  {{ tag.type}}
  {{ tag.image_url }}
{% endtags %}
      </pre>
      <p>Listar tags<br />
        * aceita o parâmetro "limit, type, product_id.
      </p>
      <!-- // -->
      <h3 id="tag">{% tag %}</h3>
      <pre>
{% tag id:"categoria" %}
 {{ tag.name}}
 {{ tag.title }}
 {{ tag.description}}
 {{ tag.type}}
 {{ tag.image_url }}
{% endtag %}
      </pre>
      <p>Listar tag pelo "id"</p>
      <p>Assim que uma tag é cadastrado no admin se torna acessível desde que seja no .liquid informado o parêmentro id</p>
      <!-- // -->

      <h3 id="menus">{% menus %}</h3>
      <pre>
{% menus position:"nome_da_posicao_do_menu_no_admin" %}
  {{ menu.url }}
  {{ menu.title }}
  {{ menu.subtitle }}
  {{ menu.items_count  }} // quantidade de sub-menus
{% endmenus %}
      </pre>
      <p>Listar menus<br>
        * loop para exibir os itens de um menu </p>
      <p>Listar sub menus<br />
        * menu com submenus (html opcional)</p>
      <p><b>A quantidade de submenus é ilimitada.</b></p>
     <pre>
{% menus position:"nome_da_posicao_do_menu_no_admin" %}
  {% if forloop.first %}<span><</span>ul<span>></span>{% endif %}
    <span><</span>li<span>></span>
      {% menus parent_id:menu.id %}
        {% if forloop.first %}<</span>ul<span>></span>{% endif %}
        <span><</span>li<span>></span>{{ menu.url }} {{ menu.title }}<span><</span>/li<span>></span>
        {% if forloop.last %}<</span>/ul<span>></span>{% endif %}
      {% endmenus %}
    <span><</span>/li<span>></span>
  {% if forloop.last %}<span><</span>/ul<span>></span>{% endif %}
{% endmenus %}
      </pre>
      <div> </div><br>
      <!-- // -->
<pre>
// Exemplo de menu com 1 filho(subcategoria)
 {% menus position:"nome-da-posicao", children_depth:"1" %}
    {{ menu.title }}
    {{ menu.url }}
    ....
    {% for menu in menu.children %}
      {{ menu.title }}
      {{ menu.url }}
      ...
    {% endof %}

 {% endmenus%}
</pre>
<p>Já esta disponível uma nova versão de filtro de tag {% menus %}
que consome menos requisições para nossa api de menus.</p>
<p>Na chamada da tag foi adicionado o parâmentro "children_depth", nele é preciso informar a quantidade de filhos desse menu.</p>
<p>Agora usamos a tag {% for %} para percorrer as subcategorias do menu pai com auxílio de um váriavel local.</p>

      <h3 id="page">{% page %}</h3>
      <pre>{% page id:'bloco' %}</pre>
      <p>Listar conteúdo de uma page<br />
      <!-- // -->

      <h3 id="banners">{% banners %}</h3>
      <pre>
{% banners tag:"nome_da_posicao_no_admin" %}
  {{ banner.title }}
  {{ banner.subtitle }}
  {{ banner.description }}
  {{ banner.file_url | resize: '990x' }}
  {{ banner.url }}
  {% if banner.external %} target="_blank"{% endif %}
{% endbanners %}<br />
* aceita o parâmetro “limit:3”
      </pre>
      <p>Listar banners<br />
          * loop para exibir os banners </p>
      <!-- // -->

      <h3 id="images">{% images %}</h3>
      <pre>
{% images %}
  {{image}}
{% endimages %}
      </pre>
      <p>Listar imagens do produto<br />
        * deve estar dentro de um loop {% products %}</p>

      <h3 id="shippingmethods">{% shippingmethods %}</h3>
      <pre>
{% shippingmethods %}
  {% if forloop.first %}
    <span><</span>fieldset class="shipping-method"<span>></span>
    <span><</span>legend<span>></span>Selecione o método de entrega:<span><</span>/legend<span>></span>
  {% endif %}
  <span><</span>label for="delivery-{{ shipping_method.name }}"<span>></span>
  <span><</span>input type="radio" name="type" value="{{ shipping_method.value }}" <span>></span>
    {{ shipping_method.name }} {{ shipping_method.price | money_format }} {{ shipping_method.description }}
   <span><</span>/label<span>></span>
  <a href="#tag-do-valor-que-falta-para-frete-grátis" class="gray">//valor que falta para o frete grátis</a>
  {{  shipping_method.value_needed_to_discount }}
 {% if forloop.last %}
  <span><</span>/fieldset<span>></span>
 {% endif %}
{% endshippingmethods %}
      </pre>

      <h3 id="variants">{% variants %}</h3>
      <pre>
  * Exibir todas as variantes de um produto
  {% variants product_id:product.id %}
    {{ variant }}

  {% else %}
    nenhuma variante encontrada
  {% endvariants %}
      </pre>
      <p>Listar as variantes de um produto<br>
      * Um produto pode conter uma ou mais variantes cadastradas no admin,
      através do liquid é possível acessar todos os dados que contém uma variante
      como por exemplo preço, atributos, imagem, dispononibilidade...</p><br />
      <div></div><br>
      <pre>
{{ product | apply_discount, variant.price }}
      </pre>
      <p>
        <strong>Passando o preço da variante quando houver desconto.</strong>
      </p>
      <!-- // -->

      <h3 id="variant">{% variant %}</h3>
      <pre>
  {% variant sku:12001 %}
    {{ variant }}
  {% else %}
    variante não encontrada
  {% endvariant %}
                    </pre>
                    <p>* Exibir uma variante, pelo SKU</p>

                    <h3 id="videos">{% videos %}</h3>
                    <pre>
  {% videos %}
    {{video.embed_url}} // lista a url cadastrada no painel
    {{video.thumbnail_url}} // lista a imagem gerada pelo painel
  {% endvideos %}
                    </pre>
                    <p>Listar vídeos de um produto</p>

                    <h3 id="sizes">{% sizes %}</h3>
  <pre>
  {% sizes tag:’nome-da-tag’, parent_tag:’outra-tag’ %}
    {{ size.value }}
    {{ size.available }}
  {% endsizes %}
  </pre>
                    <p>Listar atributos tamanhos (deprecate)</p>

                    <h3 id="colors">{% colors %}</h3>
  <pre>
  {% colors tag:'nome-da-tag' %}
    {{ color.value }}
    {{ color.available }}
  {% endcolors %}
                  <p>Listar atributos cor (deprecate)</p>
  </pre>

      <h3 id="opengraphfor">{% opengraphfor %}</h3>
      <pre>
{% unless opengraph %}
  {% if template == "tag" %}
    {% opengraphfor tag %}

  {% elsif template == "product" %}
    {% opengraphfor product %}

  {% else %}
    <span><</span>title<span>></span>
      {% case template %}
        {% when 'cart' %}{% assign pretitle = 'Carrinho' %}
        {% when 'address' %}{% assign pretitle = 'Entrega' %}
        {% when 'payment' %}{% assign pretitle = 'Pagamento' %}
        {% when 'finished' %}{% assign pretitle = 'Concluido' %}
      {% endcase %}
      {% if pretitle %}{{ pretitle }} | {% endif %}{{ store.name }}
    <span><</span>/title<span>></span>
  {% endif %}
{% endunless %}
{{ opengraph }}
      </pre>
      <p>Listar meta tags opengraph para facebook<br />
      * Meta tags e opengraph devem ser dinâmicas <br />
      * Usar {% opengraphfor %} para aplicar Meta Title e Description nas páginas internas da loja.</p>

      <h3 id="contentfor">{% contentfor %}</h3>
      <pre>
{% contentfor exemplo %}
  ... conteúdo armazenado na varianvel "exemplo"
{% endcontentfor %}

{{ exemplo }} // exibindo contéudo
      </pre>
      <p>Armazendo conteúdo com a tag {% contentfor %}<br />
      *Salvar e exibir conteúdo em outros locais do template .liquid</p>

      <h2 id="recursos">Recursos</h3>
      <p>Novos recursos são inseridos na Vnda a cada semana garantindo um software sempre atual.</p>

      <h3 id="formulários-webforms">Formulários WebForms</h3>
      <pre>
<span><</span>form action="/webform" method="post"<span>></span>
<span><</span>input type="hidden" name="key" value="nome-da-loja-nome-do-form"<span>></span>
<span><</span>input type="submit"<span>></span>
<span><</span>/form<span>></span>
      </pre>
      <p>* Os forms de contato devem usar a action /webform<br />
      * Deve ser feito o cadastro do form no admin para pegar a key </p>

      <h3 id="descrição-do-produto-com-múltiplas-seções">Descrição do produto com múltiplas seções</h3>
      <pre>
{% if product.description %}
  {% assign descParts = product.description | split:"linhadecorte" %}
  {% for desc in descParts %}
    {% if forloop.index == 1 %}{% assign desc1 = desc %}{% endif %}
    {% if forloop.index == 2 %}{% assign desc2 = desc %}{% endif %}
    {% if forloop.index == 3 %}{% assign desc3 = desc %}{% endif %}
  {% endfor %}
{% endif %}
...
{{ desc1 }}
...
{{ desc2 }}
...
{{ desc3 }}
      </pre>
      <p>Para determinar o o local onde a descrição será dividida, deve-se colocar o texto “linhadecorte” na descrição do produto</p>

      <h3 id="wishlist(lista-de-desejos)">Wishlist(lista de desejos)</h3>
      <pre>
<span><</span>form action="{{ wishlist_url }}" method="POST"<span>></span>
  <span><</span>input type="hidden" name="_method" value="DELETE"/<span>></span>
  <span><</span>input type="hidden" name="client_id" value="{{client.id}}"/<span>></span>
  <span><</span>input type="hidden" name="product_id" value="{{wish.product_id}}"/<span>></span>
  <span><</span>button type="submit"<span>></span>Remover<span><</span>/button<span>></span>
<span><</span>/form<span>></span>
      </pre>
      <p>* Deletar produto da lista (também pode ser por JS)</p>
      <div></div><br>
      <pre>
{% wishlist client_id:client.id %}
    {{wish}}
{% else %}
    nada
{% endwishlist %}

* para a listagem dos produtos utilize a tag {% products %} <a href="#products">&raquo; ver código</a>
    </pre>
    <p>* Mostrar lista do cliente</p>
    <div></div><br>
    <pre>
{% wishlist client_id:client.id product_id:2 %}
    {{wish}}
{% endwishlist %}}
      </pre>
      <p>* Consultar se produto está na lista</p>
      <div></div><br>

      <pre>
<span><</span>form action="{{ wishlist_url }}" method="POST"<span>></span>
  <span><</span>input type="text" name="client_id" value="{{client.id}}"/<span>></span>
  <span><</span>input type="text" name="product_id"/<span>></span>
  <span><</span>button type="submit" value="Enviar"<span>></span>Enviar<span><</span>/button<span>></span>
<span><</span>/form<span>></span>
      </pre>
      <p>* Adicionar na lista com html</p>
      <div></div><br>
      <pre>
$.post(
  "/lista_de_desejos",
  { client_id: "15", product_id: "4" },
  function( data ) {
    console.log("success");;
  },
  "json"
)
      </pre>
      <p>* Adicionar via JS</p>

      <h3 id="notificações-de-e-mails">Notificações de e-mails</h3>
      <p>A plataforma possui integração com <a href="https://madmimi.com/" target="_blank">Madmimi</a>, ferramenta que gerencia as campanhas de e-mails dos nossos clientes.</p>
      <p>Atualmente disponibilizamos as seguintes notificações: </p>
      <pre>
exemplo-pedido-recebido
exemplo-pedido-recebido-deposito
exemplo-pedido-recebido-boleto
exemplo-pedido-entregue
exemplo-pedido-enviado
exemplo-pedido-confirmado
exemplo-pedido-cancelado
exemplo-novo-cliente
exemplo-senha-cliente
      </pre>
      <p>O nome das campanhas &raquo;</p>
   <br ><br ><br ><br ><br ><br ><br ><br ><br ><br ><br ><br >
   <pre>
"nome",
"sobrenome",
"pedido",
"paginadopedido",
"experienciadocliente",
"valordodesconto",
"valordoenvio",
"valordopedido",
"formadepagamento",
"formadeenvio",
"itensdopedido",
"enderecoentrega",
"bairroentrega",
"cidadeentrega",
"estadoentrega",
"enderecocobranca",
"bairrocobranca",
"cidadecobranca",
"estadocobranca",
"linkdoboleto"
      </pre>
      <p>Os campos que podem ser enviados nos emails de noviticação &raquo;</p>
      <!-- // -->

      <h3 id="etiqueta-de-promocao">Etiqueta da Promoção</h3>
      <pre>
* deve estar dentro de um loop {% products %}
{% if product.discount_id > 0 %}
    {% get promotion from '/discount' [name: product.discount_id] %}
    {% if promotion %}
    <span><</span>img src="{{ promotion.seal_url }}" />
    {% endif %}
{% endif %}
      </pre>
      <p>
        Listar a etiqueta da promoção que foi cadastrada no admin.
      </p>

      <!-- // -->
      <h3 id="dns">DNS</h3>
      <p>- Criar uma entrada (ou alterar uma já existente) do tipo A,
       apontando para o IP 54.232.217.234.</p>
      <p>- Criar uma entrada www (ou alterar uma já existente) do tipo CNAME, apontando para o domínio vnda.com.br.</p>

      <h2 id="dicas-setup/admin">Dicas Setup/Admin</h2>
      <p>Seção de dicas para integrar tanto no setup da loja ou para o admin.</p>

      <!-- // -->
      <h3 id="avise-me-quando-chegar">Avise-me quando chegar</h3>
      <pre>
<span><</span>form action="/webform" method="post">
  <span><</span>p>Produto Indisponível<span><</span>/p>
  <span><</span>strong>Avise-me quando chegar<span><</span>/strong>
  <span><</span>input type="hidden" name="key" value="nome-da-loja-avise-me-quando-chegar">
  <span><</span>input type="hidden" name="product_name" value="{{ product.name }}">
  <span><</span>input type="hidden" name="product_price" value="{{ product.price | money_format }}">
  <span><</span>input type="text" name="client_email" placeholder="Digite o seu e-mail" required>
  <span><</span>input type="submit" value=" ">
<span><</span>/form>
      </pre>
      <p>
        Criar um formulário pelo admin e colocar a KEY no form abaixo
      </p>

      <h3 id="validar-cpf">Biblioteca Jquery para validar cpf e cnpj</h3>
      <p><a href="https://gist.github.com/vagnerolliver/8e60807e5269162a58b7" target="_blank" class="laranja">Clique aqui</a> para ver os filtros disponíveis para usar no .liquid.</p>

      <!--
      <h3 id="contentful">Contentful</h3>
      <p>Função que retorna as entries(Entradas que representam o conteúdo textual. Dados de uma entrada que adere a um certo tipo de conteúdo no contentful)</p>
      <pre>
         function product_for_reference(reference, callback){
            var client = contentful.createClient({
              space: '{{ store.settings.contentful_space }}',
              accessToken: '{{ store.settings.contentful_token }}',
              secure: true,
              host: 'cdn.contentful.com'
            });

            client.contentTypes({name: "Product"}, function(err, content_type) {
              var product_id = content_type[0].sys.id;
              client.entries({content_type: product_id, "fields.reference[match]": reference}, function(err, entries) {
                console.log(entries);
                if(typeof entries[0] === 'undefined'){
                  callback(null);
                } else {
                  callback(entries[0].fields);
                }
              });
            });
          }
      </pre><div></div><br />
      <p>Função para inserir o dados de um entrie no html</p>
      <pre>
        function cadence_downloads(product){
          // product.post é uma entrie cadastrada no admin do contentful
          var post = product.post;

          if(!jQuery.isEmptyObject(post)){
            $('#post .titulo').attr('href', 'http:' + media[0].fields.file.title);
            $('#post a').attr('href', 'http:' + media[0].fields.file.url);
            $('#post .conteudo').attr('href', 'http:' + media[0].fields.file.content);
          }
        }
      </pre>// -->
      <!-- // -->
      <h3 id="listar-percentual-desconto-no-produto-em-promoção">Listar Percentual de Desconto no produto em promoção</h3> <!-- // -->
      <pre>
//variável que armazena o preço original
{% assign valor_produto = product.price %}

//variável que armazena o preço c/ desconto
{% assign valor_com_desconto = product | apply_discount %}

//variável que armazena o percentual de desconto
{% assign desconto =  valor_produto | minus:valor_com_desconto | times:100 | divided_by:valor_produto | remove: '.0' %}

// lista o percentual de desconto
{{ desconto }}
      </pre>
      <p>Para listar o % (percentual) de desconto de um produto em promoção é necessário é criar variáveis e auxiliar na criação dos filtros das operações.</p>

      <!-- // -->
      <h3 id="como-relacionar-produtos">Como relacionar produtos</h3>
      <pre>
{% assign product_id = product.id %}
{% tags product_id:product.id type:"relacionado" limit:1 %}
  {% products tag:tag.name %}
    {% unless product_id == product.id %}
      {{product}}
    {% endunless %}
  {% endproducts %}
{% endtags %}
      </pre>
      <p>
        É necessário criar uma tag e colocar um tipo para ela (pois vamos buscar a tag por tipo na sequencia. no exemplo usamos o tipo "relacionado")
        Então usamos o código abaixo na tela de produtos. Ele percorre as tags do produto em busca de uma que tenha o tipo "relacionado". Caso encontre, serão listados os produtos que também tem essa tag, ou seja, que estão relacionados entre si.
      </p>

      <!-- // -->
      <h3 id="exibir-images-estáticas">Exibir imagens estáticas</h3>
      <p>* devem estar no diretório /public/images</p>
      <pre>
  {{ “nome_do_arquivo.ext” | image_tag: “Texto alternativo” }}
  <span><</span>img src="{{ “nome_do_arquivo.ext” | image_url }}" alt=“Texto alternativo”/<span>></span>
      </pre>

      <h3 id="incluir-css-js">Incluindo css e js pelo .liquid</h3>
      <pre>
// para o css
{{ "style.css" | stylesheet_tag }}

// para js
{{ "function.js" | javascript_tag }}
      </pre>
      <p>Para chamar os arquivos css e js salvos nas pastas "/stylesheets" e "/javascripts/" use os filtros "stylesheet_tag" e "javascript_tag".</p>

<h3 id="incluir-módulos">Incluindo os módulos</h3>
      <pre>
{% include = "nome_do_arquivo" %}

// No diretório raiz o nome do arquivo fica

_nome_do_arquivo.liquid
      </pre>
      <p>Para reutilizar as parte de códigos que se repetem ao longo do desenvolvimento da loja, utilize a função "{% include %}"</p>

      <h3 id="incluir-busca-swiftype">Incluir busca swiftype</h3>
      <pre>
// mudanças no .liquid
1) {{ meta_tags }} no layout, dentro do head

2) em product
{% contentfor meta_tags %}
  <span><</span>meta property="st:image" content="{{ product.image_url | resize: '185x' }}">
  <span><</span>meta property='st:type' content='products' />
  <span><</span>meta class="swiftype" name="name" data-type="string" content="{{ product.name }}" />
  {% if product.on_sale%}
  <span><</span>meta class="swiftype" name="price" data-type="float" content="{{ product | apply_discount | money_format }}" />
  <span><</span>meta class="swiftype" name="original-price" data-type="float" content="{{ product.price  | money_format}}" />
  {% else %}
  <span><</span>meta class="swiftype" name="price" data-type="float" content="{{ product.price | money_format }}" />
  <span><</span>meta class="swiftype" name="original-price" data-type="float" content="{{ product.price | money_format }}" />
  {% endif %}
  <span><</span>meta class="swiftype" name="on_sale" data-type="enum" content="{{ product.on_sale }}" />
  <span><</span>meta class="swiftype" name="available" data-type="enum" content="{{ product.available }}" />
  <span><</span>meta class="swiftype" name="score_booster" data-type="float" content="{% if product.available %}1{% else %}0{% endif %}" />
{% endcontentfor %}

3) ajustar meta property="st:image com o tamanho da imagem usada no liquid da busca
      </pre>
      <p>
        Os processos para implementar a busca do swiftype são:<br>
        1 - Acrescentar meta tags no .liquid<br>
      </p>
      <div></div><br />
      <pre>
<a href="http://www.vnda.com.br/images/print-1.png" target="_blank">print 1</a>
<a href="http://www.vnda.com.br/images/print-2.png" target="_blank">print 2</a>
<a href="http://www.vnda.com.br/images/print-3.png" target="_blank">print 3</a>
<a href="http://www.vnda.com.br/images/print-4.png" target="_blank">print 4</a>
      </pre>
       <p>
        2 - Criar engine de busca<br>
      </p>
      <div></div><br>

      <pre>
<a href="http://www.vnda.com.br/images/print-5.png" target="_blank">print 5</a>
      </pre>
      <p>
        3- Nessa etapa, ele vai buscar o conteúdo em todo o site<br>
      </p>
      <div></div><br>
      <pre>
<a href="http://www.vnda.com.br/images/print-6.png" target="_blank">print 6</a>
<a href="http://www.vnda.com.br/images/print-7.png" target="_blank">print 7</a>
      </pre>
      <p>
        4 - Depois que já tiverem sido encontradas todas as páginas, colocar o filtro<br>
      </p>
      <div></div><br>
      <pre>
<a href="http://www.vnda.com.br/images/print-8.png" target="_blank">print 8</a>
      </pre>
      <p>
        5 - As informações que precisam ser colocadas no admin
      </p>

      <!-- // -->
      <h3 id="metricas-google-analytics">Métricas Google Analytics</h3>
      <h4 id="mensuracao-de-banners">Mensuração de banners</h4>
      <pre>
{% banners position: "capa-grande" %}
<span><</span>li>
<span><</span>a class="link-img" href="{{ banner.url }}">
<span><</span>img src="{{ banner.file_url }}" alt="{{ banner.title }}" data-banner-title="{{ banner.title }}" data-content-type="banner" data-banner-position="capa-grande">
<span><</span>/a>
<span><</span>div class="info">
<span><</span>h3>{{ banner.subtitle }}<span><</span>/h3>
{{ banner.description }}
<span><</span>/div>
<span><</span>/li>
{% endbanners %}
      </pre>
      <p>É possível mensurar os cliques dos banners no Google Anatylics através do .liquid informando os atributos
        data-banner-title, data-content-type e data-banner-position dentro do loop {% banners %}.
      </p>
      <p>Os atributos data-banner-title e data-content-type deve ser os mesmo
        cadastrados no admin nos campos Title e Position;
       </p>
       <!-- // -->
      <h3 id="resumo-do-pedido">Resumo do Pedido</h3>
      <p>Segue um modelo de resumo do carrinho.</p>
      <pre>
<span><</span>table class="table">
    <span><</span>tbody>
        <span><</span>tr>
            <span><</span>td>Subtotal</td>
            <span><</span>td>{{ cart.subtotal | money_format }}</td>
        <span><</span>/tr>
        {% if cart.shipping_price > 0 %}
        <span><</span>tr>
          <span><</span>td>Frete</td>
          <span><</span>td>{{ cart.shipping_price | money_format }}</td>
        <span><</span>/tr>
        {%  endif %}
        {% if cart.discount_price > 0 %}
        <span><</span>tr>
          <span><</span>td>Desconto</td>
          <span><</span>td>{{ cart.discount_price | money_format }}</td>
        <span><</span>/tr>
        {% endif %}
        <span><</span>tr>
            <span><</span>td>Total de pedidos</td>
            <span><</span>td>{{ cart.total | money_format }}</td>
         <span><</span>/tr>
    <span><</span>/tbody>
<span><</span>/table>
      </pre>

      <!-- // -->
      <h3 id="outras-tags-do-liquid">Outras tags do .liquid</h3>
      <p>Outras tags que pode ser chamados no .liquid</p>
      <pre>
{{ home_url }}     -  retorna a url da home
{{ current_url  }} -  retorna a url atual
{{ store_name }}   -  retorna o nome da loja/admin
      </pre>
      <!-- // -->
      <h3 id="verificar-usuário-logado">Verificar usuário logado</h3>
      <pre>
  {% if logged_in %}
    <span><<span>a href="{{ account_url }}" title="minha conta">minha conta<span><<span>/a<span>><span>
    <span><<span>a href="{{ logout_url }}" title="sair">sair<span><<span>/a<span>><span>
  {% else %}
    <span><<span>a href="{{ login_url }}" title="">minha conta<span><<span>/a<span>><span>
  {% endif %}
      </pre>
      <p>A váriavel "logged_in" retorna valor verdadeiro se o usuário estive logado.</p>
      <p>Use a váriável "logout_url" para deslogar.</p>

       <!-- // -->
      <h3 id="tag-do-valor-que-falta-para-frete-grátis">Tag - Valor que falta para o Frete Grátis</h3>
      <pre>
{% shippingmethods %}
 ...
{{ shipping_method.value_needed_to_discount }}
...
{% endshippingmethods %}
     </pre>
      <p>
        É possível listar o valor que ainda falta pra ter desconto no frete
        associado a um tipo de entrega(dentro do loop <a href="#shippingmethods" class="laranja">{% shippingmethods %}</a>), pois o desconto é relativo ao método em questão.
      </p>


      <!-- // -->
      <h3 id="Tag-store-(configurações-admin)">Tag store (configurações admin)</h3>
      <pre>
// atribuindo endereço de forma dinâmica
{{ store.street_name }}..{{ store.street_number }}..
{{ store.neighborhood }}. </p>
      </pre>
      <p>
        A tag { store } retorna um array com todas as propriedades da seção "admin/store/edit".
      </p>
      <p>
        Umas das vantagens do uso dessa tag é deixar o site com a logo e endereços gerenciavéis pelo cliente.
      </p>
      <p>
        Constantemente  um novo recurso é adicionado ao admin
        gerando um novo atributo para a tag "store", caso necessite chame a tag { store } em qualquer parte do arquivo .liquid e veja você mesmo os atributos suportados por esta.
      </p>

      <!-- / / -->
      <h3 id="template-do-zendesk">Personalizando o Template Zendesk</h3>
        <p>Faça o login em https://cadenceatendimento.zendesk.com ou https://cadenceatendimento.zendesk.com/agent</p>
        <p>Com seu usuário logado acesse o <a href="http://www.vnda.com.br/images/painel-de-personalizacao.png" class="laranja" target="_blank">painel de personalização <img src="http://www.vnda.com.br/images/painel-de-personalizacao.png"></a></p>
        <p>Clique [mudar tema ] e selecione o template <a href="http://www.vnda.com.br/images/mudar-tema.png" class="laranja" target="_blank">Temas personalizados<img src="http://www.vnda.com.br/images/mudar-tema.png"></a><a href="http://www.vnda.com.br/images/mudar-tema.png" class="laranja" target="_blank"><img src="http://www.vnda.com.br/images/tema-personalizado.png"></a></p>
        <p>Utilize o editor de código do zendesk para atualizar as páginas, css e javascript do tema<a href="http://www.vnda.com.br/img/editor-zendesk.png" class="laranja" target="_blank"><img src="http://www.vnda.com.br/images/editor-zendesk.png"></a></p>
        <p>Abra os links abaixo, copie os código e atualize-os arquivos usando o editor.</p>
        <p><a href="https://gist.github.com/vagnerolliver/5afc8e857e68e806deef" class="laranja" target="_blank">Template da página inicial - ver código</a></p>
        <p><a href="https://gist.github.com/vagnerolliver/a6bd419e0539ab15fa92" class="laranja" target="_blank">Template da página categoria - ver código</a></p>
        <p><a href="https://gist.github.com/vagnerolliver/7d82996f6c0423285c39" class="laranja" target="_blank">Template da página produto - ver código</a></p>
        <p><a href="https://gist.github.com/vagnerolliver/b669860c5954f54265d5" class="laranja" target="_blank">CSS do Template Zendesk - ver código</a></p>
        <p><a href="https://gist.github.com/vagnerolliver/0d6939482c66d4d62d67" class="laranja" target="_blank">JS do Template Zendesk - ver código</a></p>
        <p>Selecione o template ou arquivo a ser atualizado <a href="http://www.vnda.com.br/images/editar-tema-pagina-inicial.png" target="_blank"><img src="http://www.vnda.com.br/images/editar-tema-pagina-inicial.png"></a></p>

        <p> </p><br>
        <p> </p><br>
        <p> </p><br>
        <p> </p><br>
        <h3 id="produto-com-2-atributos">Produtos c/ 2 Atributos - via Liquid</h3>

        <p>
          Partindo da premissa em que os atributos de um produtos são Cor(atributo_1) e Tamanho(atributo_2) respectivamente,
          e que ao abrir a página de produtos é listado apenas as cores e ao selecionar uma cor é listados as combinações de tamanho compátiveis com este atributo.
        </p>
        <p>Para isso criaremos um arquivo _variants.liquid com as seguintes manipulações de dados:
          <a href="https://github.com/georgeduartevnda/variants/blob/master/_variants_example.liquid" target="_blank">_variants_example.liquid</a>
        </p>
      <p> </p><br>
      <p> </p><br>
      <p> </p><br>
      <p> </p><br>
      <h3 id="produto-com-2-atributos">Produtos c/ 2 Atributos - via js</h3>

      <p>
        Partindo da premissa em que os atributos de um produtos são Cor(atributo_1) e Tamanho(atributo_2) respectivamente,
        e que ao abrir a página de produtos é listado apenas as cores e ao selecionar uma cor é listados as combinações de tamanho compátiveis com este atributo.
      </p>
      <p>Para isso criaremos um arquivo atributos.js com as seguintes funções e manipulações de dado.</p>
      <pre>
$(function(){

  // variável que recebe os objetos com as informaçoes de cada variante
  variants = vnda.variants.all()

  var cor = variants[0].properties.property1;
  var tamanho = variants[0].properties.property2;

  // verifica a quantidade de atributos do produto
  properties_count = quantity_of_properties()

  // produto com 2 atritubos
  if(properties_count >= 2) {
   $(".cores").html(
    '<span><</span>label>Cor:<span><</span>/label><span><</span>ul>'+create_color_radios(variants)+'<span><</span>/ul>'
        );
    // chamada da função que lista os tamanhos de uma cor selecionada
    enable_sizes_per_color()
    }
  } else if(properties_count == 1){   // produto com 1 atritubo

     // verifica qual html atributo deve ser criado no html
      if ( cor.value != null ) {
        $(".cor").html(
        '<span><</span>label>Cor:</label><span><</span>ul>'+create_absolute_color_radios(variants)+'<span><</span>/ul>'
        );
      } else {
        $('.tamanho').html(create_absolute_size_radios(variants))
      }
    } else {
      fill_sku_with_variant();
  }

  $( "form" ).on('submit',function(){
    if( quantity_of_properties() >= 2 ) {
      var atributo_1 =  $( ".cor input[type=radio]:checked").val();
      var atributo_2 = $( ".tamanho option:checked" ).val();
      variant = vnda.variants.find({Cor: atributo_1, Tamanho: atributo_2})[0]
      if(variant){
        sku = variant.sku
        $( "form" ).find( "#sku" ).val( sku );
      } else{
        return false
      }
    }
  })
}
      </pre>
      <p>Etapa 1 -  onde são chamadas as funções para criar as combinações, sku e enviar o formulário de compra:</p>
      <div></div><br>

      <pre>
// função que monta o html das cores
function create_color_radios(variants){
  colors = [];
  radios = ""
  for(variant in variants) {
    if( variants[variant].available == true ) {
      if(variants[variant].properties) {
        colors.push(variants[variant].properties.property1.value)
      }
    }
  }
  unique_colors = colors.filter(onlyUnique);
  for(color in unique_colors){
    desired_color = unique_colors[color]
    radios += '<span><</span>li style="background-color:'+desired_color+'">'
    radios += ' <span><</span>a href="#">'
    radios += '<span><</span>input type="radio" value="'+desired_color+'">'
    radios += ' </a>'
  }
  return radios
}

// se existir apenas o atributo cor
function create_absolute_color_radios(variants){
  radios = ""
  for(variant in variants) {
    if( variants[variant].available == false ) {
      var desired_color = variants[variant].properties.property1.value
      radios += '<span><</span>li style="background-color:'+desired_color+'">'
      // use como name "sku"
      radios += '<span><</span>input name="sku" type="radio>'
     }
  }
  return radios
}

function enable_sizes_per_color(){
  $('.cor input').click(function(){
    var elm = $( this );
    // add a variável apenas os tamanhos da cor selecionada
    variants = vnda.variants.find({Cor: elm.val()})
    // insere o html de tamanhos
    $('.tamanho').html(create_size_select(variants))
  });
}

// função que monta o html do tamanho
function create_size_select(variants){
  sizes = [];
  for(variant in variants) {
    if( variants[variant].available == true ) {
     if(variants[variant].properties) sizes.push(variants[variant].properties.property2.value);
    }
  }
  unique_sizes = sizes.filter(onlyUnique);
  select = '<span><</<span>label>Tamanho:<span><</<span>/label>'
  select += '<span><</<span>select>'
  for(size in unique_sizes){
    if ( variants[variant].available == true ) {
     desired_size = unique_sizes[size]
     select += '<span><</<span>option value="'+desired_size+'">'
     select += desired_size
     select += '<span><</<span>/option>'
   }
  }
  select += '<span><</<span>/select>'
  return select
}

// se existir apenas o atributo tamanho
function create_absolute_size_radios(variants){
  select = '<span><</span>label>Tamanho:</label>'
  // use como name "sku"
  select += '<span><</span>select name="sku" required>'
  for(variant in variants) {
    if( variants[variant].available == true ) {
      var desired_size = variants[variant].properties.property2.value
       select += '<span><</span>option id="size_'+desired_size+'"  data-name="tamamho" data-size="'+desired_size+'"  value="'+variants[variant].sku+'">'
       select += desired_size
      select += '<span><</span>/option>'
     }
    }
  select += '<span><</span>/select>'
  return select
}

function fill_sku_with_variant(){
  variant = vnda.variants.all()[0]
  $( "form" ).find("#sku").val(variant.sku)
}

function quantity_of_properties(){
  property_count = 0
  variants = vnda.variants.all()
  if(exists(variants[0].properties.property1)) property_count++
  if(exists(variants[0].properties.property2)) property_count++
  if(exists(variants[0].properties.property3)) property_count++
  return property_count
}

function exists(property){
  if(!property) return false;
  value = property.value
  if(value && property.defining && (value !== null || value !== ""))
    return true;
  else
    return false;
}

function onlyUnique(value, index, self) {
  return self.indexOf(value) === index;
}
      </pre>
      <p>Etapa 2 - Nessa etapa estão as funções:</p>
      </div><!-- content -->
    <div class="dark-box">

    </div>
  </div>

  <!-- Google Tag Manager -->
  <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-NWR79T" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript> <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-NWR79T');</script>
  <!-- End Google Tag Manager -->

  <script src="js/jquery-ui-1.9.1.custom.min.js"></script>
  <script src="js/jquery.tocify.js"></script>

  <script>
    $(function() {
      var toc = $("#headings").tocify({
        selectors: "h2,h3,h4,h5,h6",
        scrollHistory: true,
        hashGenerator: function(text, element) {
          return element[0].getAttribute('id');
        }
      }).data("toc-tocify");
    });
    $( document ).load(function() {
      var heightBodyHtml =  $( ".sidebar #container" ).height();
      $( "html,body" ).height( heightBodyHtml )
    });
  </script>
</body>
</html>
